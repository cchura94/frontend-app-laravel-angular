<div class="card">
    <h5>Gesti√≥n categoria</h5>

    

    <p-button (click)="showModalCategoriaDialog()" icon="pi pi-external-link" label="Nueva Categoria"></p-button>
    <p-dialog header="Categoria" [(visible)]="displayModalCategoria" [modal]="true" [style]="{width: '30vw'}"
        [draggable]="false" [resizable]="false">
        
        <div [formGroup]="categoriaForm">
            <span class="p-float-label pt-5">
                <input id="float-nom" type="text" pInputText formControlName="nombre"> 
                <label for="float-nom">Ingrese Nombre</label>
                <small class="p-error block">el nombre es obligatorio</small>
            </span>

            <textarea pInputTextarea formControlName="descripcion"></textarea>

        </div>

        <ng-template pTemplate="footer">
            <p-button icon="pi pi-check" [disabled]="!categoriaForm.valid" (click)="guardarCategoria()" label="Guardar" styleClass="p-button-text">
            </p-button>
        </ng-template>
    </p-dialog>

    <p-progressSpinner *ngIf="cargando" [style]="{width: '50px', height: '50px'}" styleClass="custom-spinner" strokeWidth="8" fill="var(--surface-ground)" animationDuration=".5s"></p-progressSpinner>


<p-table [value]="lista_categorias" responsiveLayout="scroll">
    <ng-template pTemplate="header">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>descripcion</th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-categoria>
        <tr>
            <td>{{categoria.id}}</td>
            <td>{{categoria.nombre}}</td>
            <td>{{categoria.descripcion}}</td>
            <td>

                <p-button (click)="showModalEditCategoriaDialog(categoria)" icon="pi pi-pencil" class="p-button-raised p-button-rounded"></p-button>

                <p-button (click)="confirmEliminacion(categoria)" icon="pi pi-check" label="Eliminar" styleClass="mr-2"></p-button>


            </td>
        </tr>
    </ng-template>
</p-table>
    
<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
                

</div>

<p-toast></p-toast>